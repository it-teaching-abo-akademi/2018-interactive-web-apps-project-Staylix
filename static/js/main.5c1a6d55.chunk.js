(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),l=a(1),s=a(2),i=a(3),u=a(6),m=a(4),h=a(5),d=a(9),p=a.n(d),b="https://api.iextrading.com/1.0/";function f(e){return b+"stock/"+encodeURI(e)+"/quote"}var v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("button",{className:this.props.classes,onClick:this.props.action,type:this.props.type},o.a.createElement("span",null,this.props.content,o.a.createElement("i",{className:"material-icons"},this.props.icon)))}}]),t}(n.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"lds-ellipsis"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(l.a)(Object(l.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.onSubmit(this.state.value),e.preventDefault()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-inline"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"id_input"},this.props.label),o.a.createElement("input",{id:"id_input",type:"text",className:"form-control",value:this.state.value,onChange:this.handleChange})),o.a.createElement(v,{classes:this.props.buttonClass,content:this.props.buttonContent,icon:"add_circle_outline",type:"submit"})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={value1:"",value2:""},a.handleChange=a.handleChange.bind(Object(l.a)(Object(l.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(Object(l.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){this.props.onSubmit(this.state),e.preventDefault()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-inline m-3"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"id_input"},this.props.labels[0]),o.a.createElement("input",{name:"value1",type:this.props.types[0],className:"form-control",value:this.state.value1,onChange:this.handleChange})),o.a.createElement("div",{className:"form-group ml-2"},o.a.createElement("label",{htmlFor:"id_input"},this.props.labels[1]),o.a.createElement("input",{name:"value2",type:this.props.types[0],className:"form-control",value:this.state.value2,onChange:this.handleChange})),o.a.createElement(v,{classes:this.props.buttonClass,content:this.props.buttonContent,icon:"add_circle_outline",type:"submit"})))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={portfolios:[],currencyRate:0},a.addPortfolio=a.addPortfolio.bind(Object(l.a)(Object(l.a)(a))),a.removePortfolio=a.removePortfolio.bind(Object(l.a)(Object(l.a)(a))),a.addStock=a.addStock.bind(Object(l.a)(Object(l.a)(a))),a.removeStock=a.removeStock.bind(Object(l.a)(Object(l.a)(a))),a.changeCurrency=a.changeCurrency.bind(Object(l.a)(Object(l.a)(a))),a.addCheckedStock=a.addCheckedStock.bind(Object(l.a)(Object(l.a)(a))),a.getCurrencyExchangeRate=a.getCurrencyExchangeRate.bind(Object(l.a)(Object(l.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"addPortfolio",value:function(e){var t=this.state.portfolios,a=!1;t.forEach(function(t){t.name===e&&(a=!0)}),t.length>=10?alert("You cannot have more than 10 portfolios."):e.length<1?alert("Please choose a name."):a?alert("This portfolio name is already used."):t.push({name:e,stocks:[],currency:"EUR"}),this.setState({portfolios:t})}},{key:"removePortfolio",value:function(e){var t=this.state.portfolios;t.forEach(function(a,n){a.name===e&&t.splice(n,1)}),this.setState({portfolios:t})}},{key:"addStock",value:function(e,t){var a=this;t.symbol=t.symbol.toUpperCase();var n=this.state.portfolios;if(t.symbol.length<1)alert("Please give the stock symbol.");else if(t.shares<1)alert("Please add at least 1 share.");else{var o=f(t.symbol);fetch(o).then(function(e){return e.json()}).then(function(o){o==={}?alert("Unknown symbol."):a.addCheckedStock(n,e,t)},function(e){alert("Unknown symbol. Error: "+e)})}}},{key:"addCheckedStock",value:function(e,t,a){e.forEach(function(e){if(e.name===t)if(e.stocks.length>=50)alert("You cannot have more than 10 portfolios.");else{var n=!1;e.stocks.forEach(function(e){e.symbol===a.symbol&&(n=!0)}),n?alert("This symbol is already added."):e.stocks.push(a)}}),this.setState({portfolios:e})}},{key:"removeStock",value:function(e,t){var a=this.state.portfolios;a.forEach(function(n){n.name===e&&a.stocks.forEach(function(e,n){e.symbol===t&&a.stocks.splice(n,1)})}),this.setState({portfolios:a})}},{key:"changeCurrency",value:function(e){var t=this.state.portfolios;t.forEach(function(t){t.name===e&&("EUR"===t.currency?t.currency="USD":t.currency="EUR")}),this.setState({portfolios:t})}},{key:"getCurrencyExchangeRate",value:function(){var e=this;fetch("https://www.alphavantage.co/query?apikey=0ZHUEM2KZK605UBO&function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR").then(function(e){return e.json()}).then(function(t){e.setState({currencyRate:t["Realtime Currency Exchange Rate"]["5. Exchange Rate"]})},function(t){e.setState({currencyRate:0,error:t})})}},{key:"componentDidMount",value:function(){this.getCurrencyExchangeRate();var e=JSON.parse(localStorage.getItem("portfolios"));"undefined"!==typeof e&&null!==e||(e=[]),this.setState({portfolios:e}),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this)),this.saveStateToLocalStorage()}},{key:"saveStateToLocalStorage",value:function(){localStorage.setItem("portfolios",JSON.stringify(this.state.portfolios))}},{key:"render",value:function(){var e=this,t=this.state.portfolios.map(function(t){return o.a.createElement(O,{key:t.name,name:t.name,stocks:t.stocks,currency:t.currency,currencyRate:e.state.currencyRate,removePortfolio:e.removePortfolio,addStock:e.addStock,removeStock:e.removeStock,changeCurrency:e.changeCurrency})});return o.a.createElement("div",null,o.a.createElement("div",{className:"centered"},o.a.createElement("h1",{className:"mt-3"},"Your Portfolios"),o.a.createElement(E,{onSubmit:this.addPortfolio,label:"Portfolio Name:",buttonContent:"Add new Portfolio",buttonClass:"myBtn-dark"})),t)}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).callAddStock=a.callAddStock.bind(Object(l.a)(Object(l.a)(a))),a.callChangeCurrency=a.callChangeCurrency.bind(Object(l.a)(Object(l.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"callAddStock",value:function(e){var t={symbol:e.value1,shares:e.value2};this.props.addStock(this.props.name,t)}},{key:"callChangeCurrency",value:function(){this.props.changeCurrency(this.props.name)}},{key:"render",value:function(){var e=this,t=this.props.stocks.map(function(t){return o.a.createElement(S,{key:t.symbol,symbol:t.symbol,shares:t.shares,currency:e.props.currency,removeStock:e.props.removeStock,currencyRate:e.props.currencyRate})});return o.a.createElement("div",{className:"portfolio"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-8"},o.a.createElement("h1",null,this.props.name)),o.a.createElement("div",{className:"col-4"},o.a.createElement(C,{currency:this.props.currency,changeCurrency:this.callChangeCurrency}))),o.a.createElement(k,{onSubmit:this.callAddStock,types:["text","number"],labels:["Stock Symbol:","Number of shares:"],buttonContent:"Add stock",buttonClass:"myBtn-light"}),o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Symbol"),o.a.createElement("th",{scope:"col"},"Unit value"),o.a.createElement("th",{scope:"col"},"Quantity"),o.a.createElement("th",{scope:"col"},"Total value"))),o.a.createElement("tbody",null,t)),o.a.createElement("div",{className:"centered"},o.a.createElement(v,{classes:"myBtn-light",content:"Remove Portfolio",icon:"delete_outline",action:this.props.removePortfolio.bind(this,this.props.name)})))}}]),t}(n.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("img",{className:"logo",src:this.props.src,alt:""})}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={error:null,isLoaded:!1,logoLoaded:!1,price:0},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=f(this.props.symbol),n=(e=this.props.symbol,b+"stock/"+encodeURI(e)+"/logo");fetch(a).then(function(e){return e.json()}).then(function(e){e==={}?alert("Unknown symbol."):t.setState({isLoaded:!0,price:e.latestPrice})},function(e){t.setState({isLoaded:!0,error:e})}),fetch(n).then(function(e){return e.json()}).then(function(e){e==={}?alert("Unknown symbol's logo."):t.setState({logoLoaded:!0,logo:e.url})},function(e){t.setState({logoLoaded:!0,error:e})})}},{key:"render",value:function(){var e,t=this.props.currency;return null==t&&(t="USD"),e="EUR"===t?this.state.price*this.props.currencyRate:this.state.price,this.state.isLoaded&&this.state.logoLoaded&&this.props.currencyRate>0?o.a.createElement("tr",null,o.a.createElement("th",{scope:"row"},o.a.createElement(g,{src:this.state.logo}),this.props.symbol),o.a.createElement("td",null,new Intl.NumberFormat("fi-FI",{style:"currency",currency:t}).format(e)),o.a.createElement("td",null,this.props.shares),o.a.createElement("td",null,new Intl.NumberFormat("fi-FI",{style:"currency",currency:t}).format(e*this.props.shares))):o.a.createElement("tr",null,o.a.createElement("th",{scope:"row"},this.props.symbol),o.a.createElement("td",null,o.a.createElement(y,null)),o.a.createElement("td",null,this.props.shares),o.a.createElement("td",null,o.a.createElement(y,null)))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).clickHandler=a.clickHandler.bind(Object(l.a)(Object(l.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"clickHandler",value:function(){this.props.changeCurrency()}},{key:"render",value:function(){var e,t;return"EUR"===this.props.currency?(e="switchActive",t="switchDisabled"):(t="switchActive",e="switchDisabled"),o.a.createElement("div",{className:"switch",onClick:this.clickHandler},o.a.createElement("div",{className:e},o.a.createElement("i",{className:"material-icons"},"euro_symbol")),o.a.createElement("div",{className:t},o.a.createElement("i",{className:"material-icons"},"attach_money")))}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"header"},o.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),o.a.createElement("p",null,"Welcome on the ",o.a.createElement("span",{className:"accentuated"},"Stock Portfolio Management System"),".")),o.a.createElement("main",null,o.a.createElement("div",{className:"container"},o.a.createElement(j,null))),o.a.createElement("footer",{className:"footer"},"Data provided for free by ",o.a.createElement("a",{href:"https://iextrading.com/developer"},"IEX"),". View ",o.a.createElement("a",{href:"https://iextrading.com/api-exhibit-a/"},"IEX\u2019s Terms of Use"),"."))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[10,2,1]]]);
//# sourceMappingURL=main.5c1a6d55.chunk.js.map